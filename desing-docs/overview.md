# Monotonix: Framework for Monorepo Deploy Pipeline

**Make deployment monotonous.**

---

## 概要

Monotonix は、モノレポ内の多様なアプリケーションを GitHub Actions の Build Matrix を利用してシンプルに並列実行するためのフレームワークです。依存関係の管理や分散ビルドではなく、簡潔で効率的な設定と実行を追求します。

---

## 他のツールとの違い

### **Nx や Turborepo との比較**

- **Nx や Turborepo**
  - 凝集性の高いパッケージ・アプリケーション群の効率的なビルドをサポート。
  - 依存関係の定義や分散ビルドを目的としたツール。
  - 大規模で複雑なプロジェクトに適している。

- **Monotonix**
  - 依存関係を定義せず、各アプリケーションを独立して処理。
  - Build Matrix を活用し、簡単な設定で並列実行を実現。
  - 多様なアプリケーションとビルド種別をシンプルに管理。

---

## 特徴

### **1. Config Loaders による柔軟な設定管理**
- **Config Loaders** を用いて、Global Config と Local Config を分離。
- アプリケーションごとの設定 (Local Config) を、全体に共通する設定 (Global Config) から簡単に読み込む。
- Config Loaders を追加することで、Docker や Lambda などの異なるビルド種別に対応可能。

---

### **2. シンプルな並列実行**
- Build Matrix を活用して、アプリケーションごとに並列実行。
- 変更検知に基づき、必要なビルド・デプロイのみを実行。
- ワークフロー定義を各アプリケーションごとに 1 ファイルに簡略化。

---

### **3. 多様なビルド種別への対応**
- Docker、Lambda、Cloud Functions など、多様なビルド・デプロイを単一フレームワークで管理。
- ビルド種別ごとのプラグインを追加するだけで対応可能。

---

### **4. 実行済みデプロイのスキップ**
- 実行結果を記録し、成功済みのジョブをスキップ。
- 最新の変更のみをデプロイすることで効率化。

---

## 利用例

- **Docker アプリケーションのデプロイ**
  - 各アプリケーションの更新を検知し、必要なものだけをビルド・デプロイ。

- **Lambda 関数の管理**
  - Lambda 用の Config Loader を追加して、簡単に統合可能。

- **複数環境対応**
  - 開発、ステージング、本番など、環境ごとに異なる設定を柔軟に適用。

---

## 結論

Monotonix は、モノレポ内の多様なアプリケーションを対象に、シンプルな並列実行と柔軟な設定管理を提供します。Config Loaders による拡張性や、Build Matrix を最大限活用する設計により、手間のかかるデプロイ作業を「単調で退屈 (monotonous)」なものへと変えます。
